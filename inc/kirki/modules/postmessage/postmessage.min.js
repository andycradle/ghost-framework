var kirkiPostMessage={fields:{},styleTag:{add(a){(null===document.getElementById(`kirki-postmessage-${a}`)||"undefined"==typeof document.getElementById(`kirki-postmessage-${a}`))&&jQuery("head").append(`<style id="kirki-postmessage-${a}"></style>`)},addData(a,b){kirkiPostMessage.styleTag.add(a),jQuery(`#kirki-postmessage-${a}`).text(b)}},util:{processValue(a,b){let c=this,d=window.parent.wp.customize.get(),e=!1;return"object"==typeof b?(_.each(b,(d,e)=>{b[e]=c.processValue(a,d)}),b):(a=_.defaults(a,{prefix:"",units:"",suffix:"",value_pattern:"$",pattern_replace:{},exclude:[]}),1<=a.exclude.length&&_.each(a.exclude,a=>{b==a&&(e=!0)}),!e)&&(b=a.value_pattern.replace(/\$/g,b),_.each(a.pattern_replace,(a,c)=>{_.isUndefined(d[a])||(b=b.replace(c,d[a]))}),a.prefix+b+a.units+a.suffix)},backgroundImageValue(a){return-1===a.indexOf("url(")?`url(${a})`:a}},css:{fromOutput(a,b,c){let d,e="",f=window.parent.kirki,g=!1;switch(a.js_callback&&"function"==typeof window[a.js_callback]&&(b=window[a.js_callback[0]](b,a.js_callback[1])),c){default:"kirki-image"===c&&(b=_.isUndefined(b.url)?kirkiPostMessage.util.backgroundImageValue(b):kirkiPostMessage.util.backgroundImageValue(b.url)),_.isObject(b)?(e+=`${a.element}{`,_.each(b,(b,c)=>{a.choice&&c!==a.choice||(d=kirkiPostMessage.util.processValue(a,b),!a.property&&(a.property=c),!1!==d&&(e+=`${a.property}:${d};`))}),e+="}"):(d=kirkiPostMessage.util.processValue(a,b),!1!==d&&(e+=`${a.element}{${a.property}:${d};}`));}return a.media_query&&"string"==typeof a.media_query&&!_.isEmpty(a.media_query)&&(g=a.media_query,-1===g.indexOf("@media")&&(g=`@media ${g}`)),g?`${g}{${e}}`:e}},html:{fromOutput(a,b){if(a.js_callback&&"function"==typeof window[a.js_callback]&&(b=window[a.js_callback[0]](b,a.js_callback[1])),_.isObject(b)||_.isArray(b)){if(!a.choice)return;_.each(b,(c,d)=>{a.choice&&d!==a.choice||(b=c)})}b=kirkiPostMessage.util.processValue(a,b),a.attr?jQuery(a.element).attr(a.attr,b):jQuery(a.element).html(b)}},toggleClass:{fromOutput(a,b){"undefined"==typeof a.class||"undefined"==typeof a.value||(b!==a.value||jQuery(a.element).hasClass(a.class)?jQuery(a.element).removeClass(a.class):jQuery(a.element).addClass(a.class))}}};jQuery(document).ready(()=>{_.each(kirkiPostMessageFields,a=>{wp.customize(a.settings,b=>{b.bind(b=>{let c="";_.each(a.js_vars,d=>{d.function&&"undefined"!=typeof kirkiPostMessage[d.function]||(d.function="css"),"css"===d.function?c+=kirkiPostMessage.css.fromOutput(d,b,a.type):kirkiPostMessage[d.function].fromOutput(d,b,a.type)}),kirkiPostMessage.styleTag.addData(a.settings,c)})})})});